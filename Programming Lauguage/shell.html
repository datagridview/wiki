<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Bash Shell - 何先生的wiki</title>
    <meta name="keywords" content="wiki,simiki"/>
    <meta name="description" content="newpage of github"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#Programming Lauguage">Programming Lauguage</a>&nbsp;&#187;&nbsp;Bash Shell
    <span class="updated">Page Updated&nbsp;
      2020-05-20 10:34
      
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">Bash Shell</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">变量</a><ul>
<li><a href="#_2">声明变量</a></li>
<li><a href="#_3">使用变量</a></li>
<li><a href="#_4">截取变量</a></li>
<li><a href="#_5">变量的默认值</a></li>
<li><a href="#_6">内置变量</a></li>
</ul>
</li>
<li><a href="#_7">输入</a><ul>
<li><a href="#_8">读取输入</a></li>
</ul>
</li>
<li><a href="#_9">结构</a><ul>
<li><a href="#if">if结构</a></li>
<li><a href="#case">case结构</a></li>
<li><a href="#for">for结构</a></li>
<li><a href="#while">while 结构</a></li>
<li><a href="#_10">函数结构</a></li>
<li><a href="#_11">简单命令选择</a></li>
</ul>
</li>
<li><a href="#_12">表达式</a></li>
<li><a href="#_13">命令</a></li>
</ul>
</div>
<h2 id="_1">变量</h2>
<h3 id="_2">声明变量</h3>
<p>等于号前后<strong>不要加空格</strong>，会被认为是一条指令</p>
<div class="hlcode"><pre><span class="n">Variable</span><span class="o">=</span><span class="s">&quot;Some string&quot;</span>
</pre></div>


<h3 id="_3">使用变量</h3>
<p><strong>赋值</strong>、<code>export</code>使用变量时，前面不加<code>$</code></p>
<p>单引号不会展开变量</p>
<div class="hlcode"><pre><span class="n">echo</span> <span class="err">$</span><span class="n">Variable</span>
<span class="n">echo</span> <span class="s">&quot;$Variable&quot;</span>
<span class="n">echo</span> <span class="err">&#39;$</span><span class="n">Variable</span><span class="err">&#39;</span>
</pre></div>


<h3 id="_4">截取变量</h3>
<div class="hlcode"><pre># 返回变量的前7个字符
Length=7
echo <span class="cp">${</span><span class="n">Variable</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="n">Length</span><span class="cp">}</span>
</pre></div>


<h3 id="_5">变量的默认值</h3>
<p>当变量为null或者""时，返回默认值，<strong>对于变量的值没有影响</strong></p>
<div class="hlcode"><pre><span class="s-Atom">echo</span> <span class="err">$</span><span class="p">{</span><span class="nv">Foo</span><span class="p">:-</span><span class="s2">&quot;Default&quot;</span><span class="p">}</span>
</pre></div>


<h3 id="_6">内置变量</h3>
<div class="hlcode"><pre><span class="n">echo</span> <span class="s">&quot;Last program return value: $?&quot;</span>
<span class="n">echo</span> <span class="s">&quot;Script&#39;s PID: $$&quot;</span>
<span class="n">echo</span> <span class="s">&quot;Number of arguments: $#&quot;</span>
<span class="n">echo</span> <span class="s">&quot;Scripts arguments: $@&quot;</span>
<span class="n">echo</span> <span class="s">&quot;Scripts arguments separated in different variables: $1 $2...&quot;</span>
</pre></div>


<h2 id="_7">输入</h2>
<h3 id="_8">读取输入</h3>
<div class="hlcode"><pre><span class="n">echo</span> <span class="s">&quot;What&#39;s your name?&quot;</span>
<span class="n">read</span> <span class="n">Name</span> <span class="err">#</span> <span class="err">这里不需要声明新变量</span>
<span class="n">echo</span> <span class="n">Hello</span><span class="p">,</span> <span class="err">$</span><span class="n">Name</span><span class="o">!</span>
</pre></div>


<h2 id="_9">结构</h2>
<h3 id="if">if结构</h3>
<div class="hlcode"><pre><span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="n">Name</span> <span class="o">-</span><span class="n">ne</span> <span class="err">$</span><span class="n">USER</span> <span class="p">]</span>
<span class="n">then</span>
    <span class="n">echo</span> <span class="s">&quot;False&quot;</span>
<span class="k">else</span>
    <span class="n">echo</span> <span class="s">&quot;True&quot;</span>
<span class="n">fi</span>
</pre></div>


<h3 id="case">case结构</h3>
<div class="hlcode"><pre><span class="k">case</span> <span class="s">&quot;$Variable&quot;</span> <span class="n">in</span>
    <span class="err">#</span> <span class="err">列出需要匹配的字符串</span>
    <span class="mi">0</span><span class="p">)</span> <span class="n">echo</span> <span class="s">&quot;There is a zero.&quot;</span><span class="p">;;</span>
    <span class="mi">1</span><span class="p">)</span> <span class="n">echo</span> <span class="s">&quot;There is a one.&quot;</span><span class="p">;;</span>
    <span class="o">*</span><span class="p">)</span> <span class="n">echo</span> <span class="s">&quot;It is not null.&quot;</span><span class="p">;;</span>
<span class="n">esac</span>
</pre></div>


<h3 id="for">for结构</h3>
<p>遍历参数序列</p>
<div class="hlcode"><pre><span class="cp"># 循环遍历给定的参数序列:</span>
<span class="cp"># 变量$Variable 的值会被打印 3 次。</span>
<span class="cp"># 循环的位置也可以是：</span>
<span class="cp"># 其他命令的输出$(ls)</span>
<span class="cp"># 文件 file1 file2 </span>
<span class="k">for</span> <span class="n">Variable</span> <span class="n">in</span> <span class="p">{</span><span class="mf">1..3</span><span class="p">}</span>
<span class="k">do</span>
    <span class="n">echo</span> <span class="s">&quot;$Variable&quot;</span>
<span class="n">done</span>
</pre></div>


<p>经典for循环</p>
<div class="hlcode"><pre><span class="k">for</span> <span class="p">((</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">a</span><span class="o">++</span><span class="p">))</span>
<span class="k">do</span>
    <span class="n">echo</span> <span class="err">$</span><span class="n">a</span>
<span class="n">done</span>
</pre></div>


<h3 id="while">while 结构</h3>
<div class="hlcode"><pre><span class="k">while</span> <span class="p">[</span> <span class="nb">true</span> <span class="p">]</span>
<span class="k">do</span>
    <span class="n">echo</span> <span class="s">&quot;loop body here...&quot;</span>
    <span class="k">break</span>
<span class="n">done</span>
</pre></div>


<h3 id="_10">函数结构</h3>
<div class="hlcode"><pre><span class="cp"># 经典</span>
<span class="n">function</span> <span class="nf">foo</span> <span class="p">()</span>
<span class="p">{</span>
    <span class="n">echo</span> <span class="s">&quot;Arguments work just like script arguments: $@&quot;</span>
    <span class="n">echo</span> <span class="s">&quot;And: $1 $2...&quot;</span>
    <span class="n">echo</span> <span class="s">&quot;This is a function&quot;</span>
    <span class="k">return</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="cp"># 简单</span>
<span class="n">bar</span> <span class="p">()</span>
<span class="p">{</span>
    <span class="n">echo</span> <span class="s">&quot;Another way to declare functions!&quot;</span>
    <span class="k">return</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="cp">#调用</span>
<span class="n">foo</span> <span class="s">&quot;My name is&quot;</span> <span class="err">$</span><span class="n">Name</span>
</pre></div>


<h3 id="_11">简单命令选择</h3>
<div class="hlcode"><pre><span class="n">echo</span> <span class="s">&quot;Always executed&quot;</span> <span class="o">||</span> <span class="n">echo</span> <span class="s">&quot;Only executed if first command fails&quot;</span>
<span class="n">echo</span> <span class="s">&quot;Always executed&quot;</span> <span class="o">&amp;&amp;</span> <span class="n">echo</span> <span class="s">&quot;Only executed if first command does NOT fail&quot;</span>

<span class="cp"># 在if语句中需要用[  ]包裹起每个条件</span>
<span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="n">Name</span> <span class="o">==</span> <span class="s">&quot;Steve&quot;</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="p">[</span> <span class="err">$</span><span class="n">Age</span> <span class="o">-</span><span class="n">eq</span> <span class="mi">15</span> <span class="p">]</span>
<span class="n">then</span>
    <span class="n">echo</span> <span class="s">&quot;This will run if $Name is Steve AND $Age is 15.&quot;</span>
<span class="n">fi</span>
</pre></div>


<h2 id="_12">表达式</h2>
<div class="hlcode"><pre><span class="n">echo</span> <span class="err">$</span><span class="p">((</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span> <span class="p">))</span>
<span class="cp"># 一个指令可用 $( ) 嵌套在另一个指令内部：</span>
<span class="cp"># 以下的指令会打印当前目录下的目录和文件总数</span>
<span class="n">echo</span> <span class="s">&quot;There are $(ls | wc -l) items here.&quot;</span>

<span class="cp"># 反引号 `` 起相同作用，但不允许嵌套</span>
<span class="cp"># 优先使用 $(  ).</span>
<span class="n">echo</span> <span class="s">&quot;There are `ls | wc -l` items here.&quot;</span>
</pre></div>


<h2 id="_13">命令</h2>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2020 heyunfan.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2020-05-23 23:19:01</p>
      </span>
    </div>

    
    
  </body>
</html>